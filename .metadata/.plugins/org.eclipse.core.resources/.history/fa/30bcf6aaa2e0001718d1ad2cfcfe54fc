package com.zgcxueyuan.day3;

import java.util.*;
/**
 * 模拟斗地主洗牌和发牌，同时对牌进行排序的代码实现
 * @author Administrator
 *
 */
public class Figure {
	
	private static String pokerShape [] = {"方块","梅花","红心","黑桃"};
	private static String pokercoder [] = { "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A", "2"};
	public static void main(String[] args) {
		ArrayList<Poker> al = new ArrayList<>();
		al.add(new Poker(14, "大王"));
		al.add(new Poker(15, "小王"));
		for (int i = 0; i < pokerShape.length; i++) {
			int count = 0;//每次 pokercoder 分配完一次pokerShape就把count再次归零
			for (int j = 0; j < pokercoder.length; j++) {
				al.add(new Poker(count++, pokerShape[i]+pokercoder[j]));
			}
		}
		Collections.shuffle(al);
		TreeSet<Poker> cards = new TreeSet<>(new MyCompare());
		TreeSet<Poker> playerOne = new TreeSet<>(new MyCompare());
		TreeSet<Poker> playerTwo = new TreeSet<>(new MyCompare());
		TreeSet<Poker> playerThree = new TreeSet<>(new MyCompare());
		
		for (int i = 0; i<54; i++) {
			if (i<17) {//playerOne
				playerOne.add(al.get(i));
			}else if (i>17&&i<34) {//playerTwo
				playerTwo.add(al.get(i));
			}else if (i>33&&i<52) {//playerThree
				playerThree.add(al.get(i));
			}else {//cards
				cards.add(al.get(i));
			}
		}
		int landlord = randomNumber();
		if (landlord==0) {
			for (Iterator<Poker> card = cards.iterator(); cards.isEmpty();) {
				playerOne.add(card.next());
			}
			System.out.println("1是地主");
		}else if (landlord==1) {
			for (Iterator<Poker> card = cards.iterator(); cards.isEmpty();) {
				playerTwo.add(card.next());
			}
			System.out.println("2是地主");
		}else {
			for (Iterator<Poker> card = cards.iterator(); cards.isEmpty();) {
				playerThree.add(card.next());
			}
			System.out.println("3是地主");
		}
		getPoker(playerOne);
		getPoker(playerTwo);
		getPoker(playerThree);
		
	}
	private static void getPoker(TreeSet<Poker> pokes) {
		for (Iterator<Poker> iterator = pokes.iterator(); iterator.hasNext();) {
			 Poker poke = iterator.next();
	           System.out.print(poke.getName() + " ");
		}
		 System.out.println();
	}
	/**
	 * 随机数用来产出地主的
	 * @return 0――one 1――two 2――Three
	 */
	private static int randomNumber() {
		return (int)(Math.random()*3);
	}



}
